import{u as de,j as i}from"./index-faf4erw8.js";import{r as E,aa as ue,ab as le,X as me,p as I,o as he,a6 as fe}from"./vendor-BhKfyhrK.js";import{C as ge}from"./ChantierCard-COOuaPxo.js";import"./utils-CKkNC6ps.js";import"./SmartAddress-CarXayvO.js";const ee=6048e5,be=864e5,R=Symbol.for("constructDateFrom");function x(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&R in n?n[R](e):n instanceof Date?new n.constructor(e):new Date(e)}function b(n,e){return x(e||n,n)}function te(n,e,t){const a=b(n,t==null?void 0:t.in);if(isNaN(e))return x(n,NaN);if(!e)return a;const r=a.getDate(),s=x(n,a.getTime());s.setMonth(a.getMonth()+e+1,0);const o=s.getDate();return r>=o?s:(a.setFullYear(s.getFullYear(),s.getMonth(),r),a)}let we={};function J(){return we}function S(n,e){var d,u,m,h;const t=J(),a=(e==null?void 0:e.weekStartsOn)??((u=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??t.weekStartsOn??((h=(m=t.locale)==null?void 0:m.options)==null?void 0:h.weekStartsOn)??0,r=b(n,e==null?void 0:e.in),s=r.getDay(),o=(s<a?7:0)+s-a;return r.setDate(r.getDate()-o),r.setHours(0,0,0,0),r}function q(n,e){return S(n,{...e,weekStartsOn:1})}function ne(n,e){const t=b(n,e==null?void 0:e.in),a=t.getFullYear(),r=x(t,0);r.setFullYear(a+1,0,4),r.setHours(0,0,0,0);const s=q(r),o=x(t,0);o.setFullYear(a,0,4),o.setHours(0,0,0,0);const d=q(o);return t.getTime()>=s.getTime()?a+1:t.getTime()>=d.getTime()?a:a-1}function V(n){const e=b(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function X(n,...e){const t=x.bind(null,e.find(a=>typeof a=="object"));return e.map(t)}function _(n,e){const t=b(n,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function xe(n,e,t){const[a,r]=X(t==null?void 0:t.in,n,e),s=_(a),o=_(r),d=+s-V(s),u=+o-V(o);return Math.round((d-u)/be)}function ye(n,e){const t=ne(n,e),a=x(n,0);return a.setFullYear(t,0,4),a.setHours(0,0,0,0),q(a)}function ve(n){return x(n,Date.now())}function z(n,e,t){const[a,r]=X(t==null?void 0:t.in,n,e);return+_(a)==+_(r)}function Me(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function ke(n){return!(!Me(n)&&typeof n!="number"||isNaN(+b(n)))}function Pe(n,e){const t=b(n,e==null?void 0:e.in),a=t.getMonth();return t.setFullYear(t.getFullYear(),a+1,0),t.setHours(23,59,59,999),t}function De(n,e){const[t,a]=X(n,e.start,e.end);return{start:t,end:a}}function je(n,e){const{start:t,end:a}=De(e==null?void 0:e.in,n);let r=+t>+a;const s=r?+t:+a,o=r?a:t;o.setHours(0,0,0,0);let d=1;const u=[];for(;+o<=s;)u.push(x(t,o)),o.setDate(o.getDate()+d),o.setHours(0,0,0,0);return r?u.reverse():u}function Oe(n,e){const t=b(n,e==null?void 0:e.in);return t.setDate(1),t.setHours(0,0,0,0),t}function We(n,e){const t=b(n,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function Ne(n,e){const t=e==null?void 0:e.weekStartsOn,a=b(n,e==null?void 0:e.in),r=a.getDay(),s=(r<t?-7:0)+6-(r-t);return a.setDate(a.getDate()+s),a.setHours(23,59,59,999),a}const Se={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ce=(n,e,t)=>{let a;const r=Se[n];return typeof r=="string"?a=r:e===1?a=r.one:a=r.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+a:a+" ago":a};function N(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const Te={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ye={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},pe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ee={date:N({formats:Te,defaultWidth:"full"}),time:N({formats:Ye,defaultWidth:"full"}),dateTime:N({formats:pe,defaultWidth:"full"})},Fe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},$e=(n,e,t,a)=>Fe[n];function y(n){return(e,t)=>{const a=t!=null&&t.context?String(t.context):"standalone";let r;if(a==="formatting"&&n.formattingValues){const o=n.defaultFormattingWidth||n.defaultWidth,d=t!=null&&t.width?String(t.width):o;r=n.formattingValues[d]||n.formattingValues[o]}else{const o=n.defaultWidth,d=t!=null&&t.width?String(t.width):n.defaultWidth;r=n.values[d]||n.values[o]}const s=n.argumentCallback?n.argumentCallback(e):e;return r[s]}}const He={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},qe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},_e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Je={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Xe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Le={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ae=(n,e)=>{const t=Number(n),a=t%100;if(a>20||a<10)switch(a%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},Qe={ordinalNumber:Ae,era:y({values:He,defaultWidth:"wide"}),quarter:y({values:qe,defaultWidth:"wide",argumentCallback:n=>n-1}),month:y({values:_e,defaultWidth:"wide"}),day:y({values:Je,defaultWidth:"wide"}),dayPeriod:y({values:Xe,defaultWidth:"wide",formattingValues:Le,defaultFormattingWidth:"wide"})};function v(n){return(e,t={})=>{const a=t.width,r=a&&n.matchPatterns[a]||n.matchPatterns[n.defaultMatchWidth],s=e.match(r);if(!s)return null;const o=s[0],d=a&&n.parsePatterns[a]||n.parsePatterns[n.defaultParseWidth],u=Array.isArray(d)?Ie(d,w=>w.test(o)):ze(d,w=>w.test(o));let m;m=n.valueCallback?n.valueCallback(u):u,m=t.valueCallback?t.valueCallback(m):m;const h=e.slice(o.length);return{value:m,rest:h}}}function ze(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function Ie(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function ae(n){return(e,t={})=>{const a=e.match(n.matchPattern);if(!a)return null;const r=a[0],s=e.match(n.parsePattern);if(!s)return null;let o=n.valueCallback?n.valueCallback(s[0]):s[0];o=t.valueCallback?t.valueCallback(o):o;const d=e.slice(r.length);return{value:o,rest:d}}}const Re=/^(\d+)(th|st|nd|rd)?/i,Ve=/\d+/i,Ge={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Be={any:[/^b/i,/^(a|c)/i]},Ue={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ke={any:[/1/i,/2/i,/3/i,/4/i]},Ze={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},et={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},tt={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},nt={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},at={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},rt={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},st={ordinalNumber:ae({matchPattern:Re,parsePattern:Ve,valueCallback:n=>parseInt(n,10)}),era:v({matchPatterns:Ge,defaultMatchWidth:"wide",parsePatterns:Be,defaultParseWidth:"any"}),quarter:v({matchPatterns:Ue,defaultMatchWidth:"wide",parsePatterns:Ke,defaultParseWidth:"any",valueCallback:n=>n+1}),month:v({matchPatterns:Ze,defaultMatchWidth:"wide",parsePatterns:et,defaultParseWidth:"any"}),day:v({matchPatterns:tt,defaultMatchWidth:"wide",parsePatterns:nt,defaultParseWidth:"any"}),dayPeriod:v({matchPatterns:at,defaultMatchWidth:"any",parsePatterns:rt,defaultParseWidth:"any"})},it={code:"en-US",formatDistance:Ce,formatLong:Ee,formatRelative:$e,localize:Qe,match:st,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ot(n,e){const t=b(n,e==null?void 0:e.in);return xe(t,We(t))+1}function ct(n,e){const t=b(n,e==null?void 0:e.in),a=+q(t)-+ye(t);return Math.round(a/ee)+1}function re(n,e){var h,w,P,M;const t=b(n,e==null?void 0:e.in),a=t.getFullYear(),r=J(),s=(e==null?void 0:e.firstWeekContainsDate)??((w=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:w.firstWeekContainsDate)??r.firstWeekContainsDate??((M=(P=r.locale)==null?void 0:P.options)==null?void 0:M.firstWeekContainsDate)??1,o=x((e==null?void 0:e.in)||n,0);o.setFullYear(a+1,0,s),o.setHours(0,0,0,0);const d=S(o,e),u=x((e==null?void 0:e.in)||n,0);u.setFullYear(a,0,s),u.setHours(0,0,0,0);const m=S(u,e);return+t>=+d?a+1:+t>=+m?a:a-1}function dt(n,e){var d,u,m,h;const t=J(),a=(e==null?void 0:e.firstWeekContainsDate)??((u=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??t.firstWeekContainsDate??((h=(m=t.locale)==null?void 0:m.options)==null?void 0:h.firstWeekContainsDate)??1,r=re(n,e),s=x((e==null?void 0:e.in)||n,0);return s.setFullYear(r,0,a),s.setHours(0,0,0,0),S(s,e)}function ut(n,e){const t=b(n,e==null?void 0:e.in),a=+S(t,e)-+dt(t,e);return Math.round(a/ee)+1}function l(n,e){const t=n<0?"-":"",a=Math.abs(n).toString().padStart(e,"0");return t+a}const k={y(n,e){const t=n.getFullYear(),a=t>0?t:1-t;return l(e==="yy"?a%100:a,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):l(t+1,2)},d(n,e){return l(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return l(n.getHours()%12||12,e.length)},H(n,e){return l(n.getHours(),e.length)},m(n,e){return l(n.getMinutes(),e.length)},s(n,e){return l(n.getSeconds(),e.length)},S(n,e){const t=e.length,a=n.getMilliseconds(),r=Math.trunc(a*Math.pow(10,t-3));return l(r,e.length)}},W={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},G={G:function(n,e,t){const a=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(a,{width:"abbreviated"});case"GGGGG":return t.era(a,{width:"narrow"});case"GGGG":default:return t.era(a,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const a=n.getFullYear(),r=a>0?a:1-a;return t.ordinalNumber(r,{unit:"year"})}return k.y(n,e)},Y:function(n,e,t,a){const r=re(n,a),s=r>0?r:1-r;if(e==="YY"){const o=s%100;return l(o,2)}return e==="Yo"?t.ordinalNumber(s,{unit:"year"}):l(s,e.length)},R:function(n,e){const t=ne(n);return l(t,e.length)},u:function(n,e){const t=n.getFullYear();return l(t,e.length)},Q:function(n,e,t){const a=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(a);case"QQ":return l(a,2);case"Qo":return t.ordinalNumber(a,{unit:"quarter"});case"QQQ":return t.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(a,{width:"wide",context:"formatting"})}},q:function(n,e,t){const a=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(a);case"qq":return l(a,2);case"qo":return t.ordinalNumber(a,{unit:"quarter"});case"qqq":return t.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(a,{width:"wide",context:"standalone"})}},M:function(n,e,t){const a=n.getMonth();switch(e){case"M":case"MM":return k.M(n,e);case"Mo":return t.ordinalNumber(a+1,{unit:"month"});case"MMM":return t.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(a,{width:"wide",context:"formatting"})}},L:function(n,e,t){const a=n.getMonth();switch(e){case"L":return String(a+1);case"LL":return l(a+1,2);case"Lo":return t.ordinalNumber(a+1,{unit:"month"});case"LLL":return t.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(a,{width:"wide",context:"standalone"})}},w:function(n,e,t,a){const r=ut(n,a);return e==="wo"?t.ordinalNumber(r,{unit:"week"}):l(r,e.length)},I:function(n,e,t){const a=ct(n);return e==="Io"?t.ordinalNumber(a,{unit:"week"}):l(a,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):k.d(n,e)},D:function(n,e,t){const a=ot(n);return e==="Do"?t.ordinalNumber(a,{unit:"dayOfYear"}):l(a,e.length)},E:function(n,e,t){const a=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(a,{width:"short",context:"formatting"});case"EEEE":default:return t.day(a,{width:"wide",context:"formatting"})}},e:function(n,e,t,a){const r=n.getDay(),s=(r-a.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return l(s,2);case"eo":return t.ordinalNumber(s,{unit:"day"});case"eee":return t.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(r,{width:"short",context:"formatting"});case"eeee":default:return t.day(r,{width:"wide",context:"formatting"})}},c:function(n,e,t,a){const r=n.getDay(),s=(r-a.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return l(s,e.length);case"co":return t.ordinalNumber(s,{unit:"day"});case"ccc":return t.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(r,{width:"narrow",context:"standalone"});case"cccccc":return t.day(r,{width:"short",context:"standalone"});case"cccc":default:return t.day(r,{width:"wide",context:"standalone"})}},i:function(n,e,t){const a=n.getDay(),r=a===0?7:a;switch(e){case"i":return String(r);case"ii":return l(r,e.length);case"io":return t.ordinalNumber(r,{unit:"day"});case"iii":return t.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(a,{width:"short",context:"formatting"});case"iiii":default:return t.day(a,{width:"wide",context:"formatting"})}},a:function(n,e,t){const r=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(n,e,t){const a=n.getHours();let r;switch(a===12?r=W.noon:a===0?r=W.midnight:r=a/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(n,e,t){const a=n.getHours();let r;switch(a>=17?r=W.evening:a>=12?r=W.afternoon:a>=4?r=W.morning:r=W.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let a=n.getHours()%12;return a===0&&(a=12),t.ordinalNumber(a,{unit:"hour"})}return k.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):k.H(n,e)},K:function(n,e,t){const a=n.getHours()%12;return e==="Ko"?t.ordinalNumber(a,{unit:"hour"}):l(a,e.length)},k:function(n,e,t){let a=n.getHours();return a===0&&(a=24),e==="ko"?t.ordinalNumber(a,{unit:"hour"}):l(a,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):k.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):k.s(n,e)},S:function(n,e){return k.S(n,e)},X:function(n,e,t){const a=n.getTimezoneOffset();if(a===0)return"Z";switch(e){case"X":return U(a);case"XXXX":case"XX":return O(a);case"XXXXX":case"XXX":default:return O(a,":")}},x:function(n,e,t){const a=n.getTimezoneOffset();switch(e){case"x":return U(a);case"xxxx":case"xx":return O(a);case"xxxxx":case"xxx":default:return O(a,":")}},O:function(n,e,t){const a=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+B(a,":");case"OOOO":default:return"GMT"+O(a,":")}},z:function(n,e,t){const a=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+B(a,":");case"zzzz":default:return"GMT"+O(a,":")}},t:function(n,e,t){const a=Math.trunc(+n/1e3);return l(a,e.length)},T:function(n,e,t){return l(+n,e.length)}};function B(n,e=""){const t=n>0?"-":"+",a=Math.abs(n),r=Math.trunc(a/60),s=a%60;return s===0?t+String(r):t+String(r)+e+l(s,2)}function U(n,e){return n%60===0?(n>0?"-":"+")+l(Math.abs(n)/60,2):O(n,e)}function O(n,e=""){const t=n>0?"-":"+",a=Math.abs(n),r=l(Math.trunc(a/60),2),s=l(a%60,2);return t+r+e+s}const K=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},se=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},lt=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],a=t[1],r=t[2];if(!r)return K(n,e);let s;switch(a){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",K(a,e)).replace("{{time}}",se(r,e))},mt={p:se,P:lt},ht=/^D+$/,ft=/^Y+$/,gt=["D","DD","YY","YYYY"];function bt(n){return ht.test(n)}function wt(n){return ft.test(n)}function xt(n,e,t){const a=yt(n,e,t);if(console.warn(a),gt.includes(n))throw new RangeError(a)}function yt(n,e,t){const a=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${a} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const vt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Mt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,kt=/^'([^]*?)'?$/,Pt=/''/g,Dt=/[a-zA-Z]/;function Q(n,e,t){var h,w,P,M,F,C,T,$;const a=J(),r=(t==null?void 0:t.locale)??a.locale??it,s=(t==null?void 0:t.firstWeekContainsDate)??((w=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:w.firstWeekContainsDate)??a.firstWeekContainsDate??((M=(P=a.locale)==null?void 0:P.options)==null?void 0:M.firstWeekContainsDate)??1,o=(t==null?void 0:t.weekStartsOn)??((C=(F=t==null?void 0:t.locale)==null?void 0:F.options)==null?void 0:C.weekStartsOn)??a.weekStartsOn??(($=(T=a.locale)==null?void 0:T.options)==null?void 0:$.weekStartsOn)??0,d=b(n,t==null?void 0:t.in);if(!ke(d))throw new RangeError("Invalid time value");let u=e.match(Mt).map(g=>{const f=g[0];if(f==="p"||f==="P"){const Y=mt[f];return Y(g,r.formatLong)}return g}).join("").match(vt).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const f=g[0];if(f==="'")return{isToken:!1,value:jt(g)};if(G[f])return{isToken:!0,value:g};if(f.match(Dt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:g}});r.localize.preprocessor&&(u=r.localize.preprocessor(d,u));const m={firstWeekContainsDate:s,weekStartsOn:o,locale:r};return u.map(g=>{if(!g.isToken)return g.value;const f=g.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&wt(f)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&bt(f))&&xt(f,e,String(n));const Y=G[f[0]];return Y(d,f,r.localize,m)}).join("")}function jt(n){const e=n.match(kt);return e?e[1].replace(Pt,"'"):n}function Ot(n,e,t){const[a,r]=X(t==null?void 0:t.in,n,e);return a.getFullYear()===r.getFullYear()&&a.getMonth()===r.getMonth()}function Wt(n,e){return z(x(n,n),ve(n))}function Nt(n,e,t){return te(n,-1,t)}const St={lessThanXSeconds:{one:"moins d’une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d’une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d’un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu’un an",other:"presque {{count}} ans"}},Ct=(n,e,t)=>{let a;const r=St[n];return typeof r=="string"?a=r:e===1?a=r.one:a=r.other.replace("{{count}}",String(e)),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"dans "+a:"il y a "+a:a},Tt={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},Yt={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},pt={full:"{{date}} 'à' {{time}}",long:"{{date}} 'à' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Et={date:N({formats:Tt,defaultWidth:"full"}),time:N({formats:Yt,defaultWidth:"full"}),dateTime:N({formats:pt,defaultWidth:"full"})},Ft={lastWeek:"eeee 'dernier à' p",yesterday:"'hier à' p",today:"'aujourd’hui à' p",tomorrow:"'demain à' p'",nextWeek:"eeee 'prochain à' p",other:"P"},$t=(n,e,t,a)=>Ft[n],Ht={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jésus-Christ","après Jésus-Christ"]},qt={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2ème trim.","3ème trim.","4ème trim."],wide:["1er trimestre","2ème trimestre","3ème trimestre","4ème trimestre"]},_t={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],wide:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"]},Jt={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},Xt={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"après-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l’après-midi",evening:"du soir",night:"du matin"}},Lt=(n,e)=>{const t=Number(n),a=e==null?void 0:e.unit;if(t===0)return"0";const r=["year","week","hour","minute","second"];let s;return t===1?s=a&&r.includes(a)?"ère":"er":s="ème",t+s},At=["MMM","MMMM"],Qt={preprocessor:(n,e)=>n.getDate()===1||!e.some(a=>a.isToken&&At.includes(a.value))?e:e.map(a=>a.isToken&&a.value==="do"?{isToken:!0,value:"d"}:a),ordinalNumber:Lt,era:y({values:Ht,defaultWidth:"wide"}),quarter:y({values:qt,defaultWidth:"wide",argumentCallback:n=>n-1}),month:y({values:_t,defaultWidth:"wide"}),day:y({values:Jt,defaultWidth:"wide"}),dayPeriod:y({values:Xt,defaultWidth:"wide"})},zt=/^(\d+)(ième|ère|ème|er|e)?/i,It=/\d+/i,Rt={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jésus-Christ|après Jésus-Christ)/i},Vt={any:[/^av/i,/^ap/i]},Gt={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|ème|e)? trim\.?/i,wide:/^[1234](er|ème|e)? trimestre/i},Bt={any:[/1/i,/2/i,/3/i,/4/i]},Ut={narrow:/^[jfmasond]/i,abbreviated:/^(janv|févr|mars|avr|mai|juin|juill|juil|août|sept|oct|nov|déc)\.?/i,wide:/^(janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i},Kt={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},Zt={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},en={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},tn={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'après[-\s]midi|du soir|de la nuit)/i},nn={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},an={ordinalNumber:ae({matchPattern:zt,parsePattern:It,valueCallback:n=>parseInt(n)}),era:v({matchPatterns:Rt,defaultMatchWidth:"wide",parsePatterns:Vt,defaultParseWidth:"any"}),quarter:v({matchPatterns:Gt,defaultMatchWidth:"wide",parsePatterns:Bt,defaultParseWidth:"any",valueCallback:n=>n+1}),month:v({matchPatterns:Ut,defaultMatchWidth:"wide",parsePatterns:Kt,defaultParseWidth:"any"}),day:v({matchPatterns:Zt,defaultMatchWidth:"wide",parsePatterns:en,defaultParseWidth:"any"}),dayPeriod:v({matchPatterns:tn,defaultMatchWidth:"any",parsePatterns:nn,defaultParseWidth:"any"})},Z={code:"fr",formatDistance:Ct,formatLong:Et,formatRelative:$t,localize:Qt,match:an,options:{weekStartsOn:1,firstWeekContainsDate:4}},un=({isDark:n,toggleDark:e})=>{const{state:t,selectChantier:a,navigate:r,setReturnView:s}=de(),[o,d]=E.useState(new Date),[u,m]=E.useState(new Date),[h,w]=E.useState(null),P=E.useMemo(()=>(t.chantiers||[]).filter(c=>!c.deleted&&!c.purged&&c.dateIntervention).map(c=>({...c,interventionDate:new Date(c.dateIntervention)})),[t.chantiers]),M=c=>P.filter(D=>z(D.interventionDate,c)),F=E.useMemo(()=>{const c=Oe(o),D=Pe(o),j=S(c,{weekStartsOn:1}),p=Ne(D,{weekStartsOn:1});return je({start:j,end:p})},[o]),C=u?M(u):[],T=h?t.chantiers.find(c=>c.id===h):null,$=()=>d(Nt(o)),g=()=>d(te(o,1)),f=()=>{const c=new Date;d(c),m(c),w(null)},Y=c=>{m(c),w(null)},ie=c=>{s("calendar"),a(c),r("dashboard")};return i.jsxs("div",{className:"flex flex-col h-full lg:h-full supports-[height:100dvh]:h-[100dvh] bg-slate-50 dark:bg-slate-900 overflow-hidden",children:[i.jsx("div",{className:"flex-none bg-white dark:bg-slate-900 border-b border-slate-200 dark:border-slate-800 px-4 py-2",children:i.jsxs("div",{className:"w-full flex items-center justify-between",children:[i.jsx("button",{onClick:f,className:"px-3 py-1.5 text-xs font-medium bg-brand-50 text-brand-700 dark:bg-brand-900/20 dark:text-brand-300 rounded-lg hover:bg-brand-100 dark:hover:bg-brand-900/40 transition-colors",children:"Aujourd'hui"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:$,className:"p-1.5 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-600 dark:text-slate-400 transition-colors",children:i.jsx(ue,{size:20})}),i.jsx("button",{onClick:g,className:"p-1.5 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-600 dark:text-slate-400 transition-colors",children:i.jsx(le,{size:20})})]})]})}),i.jsx("div",{className:"flex-1 overflow-y-auto px-4 pt-4 pb-24 lg:pb-6",children:i.jsx("div",{className:"w-full",children:i.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Lun","Mar","Mer","Jeu","Ven","Sam","Dim"].map((c,D)=>i.jsx("div",{className:"text-center text-xs font-bold text-slate-500 dark:text-slate-400 uppercase py-2",children:c},D))}),i.jsx("div",{className:"grid grid-cols-7 gap-1 auto-rows-fr",children:F.map((c,D)=>{const j=M(c),p=Ot(c,o),L=Wt(c),oe=u&&z(c,u),ce=j.length>0;return i.jsxs("button",{onClick:()=>Y(c),className:`
                                                relative flex flex-col items-start justify-start p-1 lg:p-2 rounded-lg border transition-all text-sm
                                                min-h-[4rem] h-auto lg:h-24 w-full
                                                ${p?"":"text-slate-300 dark:text-slate-700 bg-slate-50 dark:bg-slate-900/50"}
                                                ${p&&!L?"text-slate-700 dark:text-slate-300 bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 hover:border-brand-300 dark:hover:border-slate-600":""}
                                                ${L?"text-brand-700 dark:text-brand-300 bg-brand-50 dark:bg-brand-900/20 border-brand-500 dark:border-brand-500 font-bold shadow-sm":""}
                                                ${oe?"ring-2 ring-brand-500 dark:ring-brand-400 ring-offset-1 z-10":""}
                                                ${ce&&p?"cursor-pointer":""}
                                            `,children:[i.jsx("span",{className:`
                                                flex items-center justify-center w-6 h-6 rounded-full text-xs mb-1
                                                ${L?"bg-brand-600 text-white":""}
                                            `,children:Q(c,"d")}),i.jsxs("div",{className:"flex-1 w-full flex flex-col gap-0.5 overflow-hidden",children:[i.jsx("div",{className:"lg:hidden flex gap-0.5 flex-wrap content-start h-full w-full pt-1",children:j.map((H,A)=>i.jsx("div",{className:`w-1.5 h-1.5 rounded-full shrink-0 ${H.googleEventId?"bg-green-500":"bg-brand-400"}`},A))}),i.jsxs("div",{className:"hidden lg:flex flex-col gap-1 w-full",children:[j.slice(0,3).map((H,A)=>i.jsx("div",{className:`
                                                            h-1.5 w-full rounded-full 
                                                            ${H.googleEventId?"bg-green-500":"bg-slate-300 dark:bg-slate-600"}
                                                        `,title:H.client},A)),j.length>3&&i.jsxs("span",{className:"text-[9px] text-slate-400 leading-none pl-1",children:["+",j.length-3]})]})]})]},D)})})]}),i.jsx("div",{className:"lg:w-96 flex-none mt-6 lg:mt-0",children:i.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm flex flex-col lg:h-full lg:max-h-[calc(100vh-140px)] lg:sticky lg:top-0 transition-all",children:T?i.jsxs("div",{className:"flex flex-col h-full animate-fade-in p-2",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2 px-2",children:[i.jsx("h3",{className:"font-bold text-slate-700 dark:text-slate-300",children:"Détails"}),i.jsx("button",{onClick:()=>w(null),className:"p-1 hover:bg-slate-200 dark:hover:bg-slate-700 rounded-full transition-colors",children:i.jsx(me,{size:18,className:"text-slate-500"})})]}),i.jsx(ge,{c:T})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 bg-slate-50/50 dark:bg-slate-800/50 rounded-t-xl",children:i.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[i.jsx(I,{size:18,className:"text-brand-600"}),i.jsx("span",{className:"capitalize",children:u?Q(u,"EEEE d MMM",{locale:Z}):"Sélectionnez une date"})]})}),i.jsx("div",{className:"flex-1 lg:overflow-y-auto p-3 space-y-2",children:u?C.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center h-40 text-slate-400 text-center p-4",children:[i.jsx("p",{className:"italic text-sm",children:"Aucune intervention"}),i.jsx("p",{className:"text-xs mt-1",children:"Sélectionnez une autre date"})]}):C.map(c=>i.jsxs("button",{onClick:()=>ie(c.id),className:"w-full text-left p-3 from-white to-slate-50 bg-gradient-to-br dark:from-slate-800 dark:to-slate-900 rounded-lg hover:to-white hover:shadow-md transition-all border border-slate-200 dark:border-slate-700 group relative overflow-hidden",children:[i.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1 ${c.googleEventId?"bg-green-500":"bg-slate-300"}`}),i.jsxs("div",{className:"pl-2",children:[i.jsxs("div",{className:"font-bold text-slate-800 dark:text-white mb-0.5 flex items-center justify-between text-sm",children:[i.jsx("span",{className:"truncate",children:c.client}),i.jsx("span",{className:"text-xs font-mono bg-slate-200 dark:bg-slate-800 px-1.5 py-0.5 rounded text-slate-600 dark:text-slate-300",children:Q(new Date(c.dateIntervention),"HH:mm",{locale:Z})})]}),i.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 flex items-start gap-1 mb-1",children:[i.jsx(he,{size:12,className:"mt-0.5 flex-shrink-0"}),i.jsx("span",{className:"line-clamp-2 leading-tight",children:c.adresse})]})]}),i.jsxs("div",{className:"text-[10px] text-brand-600 font-medium mt-2 flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:["Voir le détail",i.jsx(fe,{size:10})]})]},c.id)):i.jsxs("div",{className:"flex flex-col items-center justify-center h-40 text-slate-400 text-center p-4",children:[i.jsx(I,{size:32,className:"mb-2 opacity-50"}),i.jsx("p",{className:"text-sm",children:"Cliquez sur un jour du calendrier"})]})})]})})})]})})})]})};export{un as CalendarView,un as default};
